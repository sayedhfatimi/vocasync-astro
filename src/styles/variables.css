/**
 * VocaSync AudioPlayer CSS Variables
 * 
 * Import this file and override variables to customize the player appearance.
 * 
 * @example
 * ```css
 * @import "@vocasync/astro/styles/variables.css";
 * 
 * :root {
 *   --vocasync-primary: #8b5cf6;
 * }
 * ```
 */

:root {
  /* ========================================
   * COLOR PALETTE
   * ======================================== */
  
  /* Primary brand color - used for buttons, progress bar, active states */
  --vocasync-primary: #3b82f6;
  --vocasync-primary-hover: #2563eb;
  --vocasync-primary-content: #ffffff;
  
  /* Surface colors - backgrounds and cards */
  --vocasync-surface: #f8fafc;
  --vocasync-surface-elevated: #ffffff;
  
  /* Border colors */
  --vocasync-border: #e2e8f0;
  --vocasync-border-focus: #3b82f6;
  
  /* Text colors */
  --vocasync-text: #1e293b;
  --vocasync-text-muted: #64748b;
  --vocasync-text-faint: #94a3b8;
  
  /* ========================================
   * WORD HIGHLIGHTING
   * ======================================== */
  
  /* Color for the currently spoken word */
  --vocasync-highlight: #10b981;
  --vocasync-highlight-text: #ffffff;
  
  /* Opacity for active word background */
  --vocasync-highlight-active-opacity: 0.25;
  
  /* Opacity for trailing words (creates a "wake" effect) */
  --vocasync-highlight-trail-opacity: 0.12;
  
  /* ========================================
   * SIZING & SPACING
   * ======================================== */
  
  /* Player dimensions */
  --vocasync-player-radius: 0.75rem;
  --vocasync-player-padding: 1rem;
  --vocasync-player-gap: 0.75rem;
  
  /* Button sizes */
  --vocasync-button-size: 2.5rem;
  --vocasync-button-radius: 9999px;
  
  /* Slider/range input */
  --vocasync-slider-height: 0.375rem;
  --vocasync-slider-thumb-size: 1rem;
  --vocasync-slider-radius: 9999px;
  
  /* Mini player */
  --vocasync-mini-height: 3.5rem;
  --vocasync-mini-offset: 1rem;
  
  /* ========================================
   * SHADOWS & EFFECTS
   * ======================================== */
  
  --vocasync-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --vocasync-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --vocasync-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  
  /* ========================================
   * TRANSITIONS
   * ======================================== */
  
  --vocasync-transition-fast: 150ms ease;
  --vocasync-transition: 200ms ease;
  --vocasync-transition-slow: 300ms ease;
}

/* ========================================
 * DARK MODE
 * ======================================== */

@media (prefers-color-scheme: dark) {
  :root {
    --vocasync-primary: #60a5fa;
    --vocasync-primary-hover: #3b82f6;
    --vocasync-primary-content: #1e293b;
    
    --vocasync-surface: #1e293b;
    --vocasync-surface-elevated: #334155;
    
    --vocasync-border: #475569;
    --vocasync-border-focus: #60a5fa;
    
    --vocasync-text: #f1f5f9;
    --vocasync-text-muted: #94a3b8;
    --vocasync-text-faint: #64748b;
    
    --vocasync-highlight: #34d399;
    --vocasync-highlight-text: #1e293b;
    
    --vocasync-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.2);
    --vocasync-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
    --vocasync-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
  }
}

/* ========================================
 * WORD HIGHLIGHTING STYLES
 * ======================================== */

.vocasync-word {
  transition: background-color var(--vocasync-transition-fast),
              color var(--vocasync-transition-fast);
  border-radius: 0.125rem;
  padding: 0 0.0625rem;
  margin: 0 -0.0625rem;
}

.vocasync-word[data-active="true"] {
  background-color: color-mix(
    in oklch,
    var(--vocasync-highlight) calc(var(--vocasync-highlight-active-opacity) * 100%),
    transparent
  );
}

/* Trail effect for previous words */
.vocasync-word[data-trail="1"] {
  background-color: color-mix(
    in oklch,
    var(--vocasync-highlight) calc(var(--vocasync-highlight-trail-opacity) * 100%),
    transparent
  );
}

.vocasync-word[data-trail="2"] {
  background-color: color-mix(
    in oklch,
    var(--vocasync-highlight) calc(var(--vocasync-highlight-trail-opacity) * 50%),
    transparent
  );
}

.vocasync-word[data-trail="3"],
.vocasync-word[data-trail="4"] {
  background-color: color-mix(
    in oklch,
    var(--vocasync-highlight) calc(var(--vocasync-highlight-trail-opacity) * 25%),
    transparent
  );
}

/* ========================================
 * MATH SPEECH (hidden visually, accessible to highlighter)
 * ======================================== */

.vocasync-math-speech {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
